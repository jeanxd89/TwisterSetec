<!DOCTYPE html>

<html lang="pt-br">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Twister Quiz Challenge</title>

<!-- Importa a biblioteca de som Tone.js -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>


<style>

/* Importa a fonte do Google Fonts */

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');



* {

box-sizing: border-box;

margin: 0;

padding: 0;

font-family: 'Poppins', sans-serif;

}



body {

display: flex;

justify-content: center;

align-items: center;

min-height: 100vh;

background: linear-gradient(120deg, #ff9a9e, #fad0c4);

padding: 20px;

}



.container {

text-align: center;

max-width: 500px;

width: 100%;

background: rgba(255, 255, 255, 0.1);

padding: 20px;

border-radius: 20px;

backdrop-filter: blur(15px);

box-shadow: 0 0 30px rgba(0, 0, 0, 0.3);

}



h1 {

margin-bottom: 20px;

color: #fff;

text-shadow: 1px 1px 15px #000;

font-weight: 700;

font-size: clamp(1.8rem, 5vw, 2.5rem);

}



.roleta-container {

position: relative;

width: 300px;

height: 300px;

margin: 0 auto 20px;

}



#roletaCanvas {

width: 100%;

height: 100%;

border-radius: 50%;

border: 5px solid white;

box-shadow: 0 0 15px rgba(0,0,0,0.2);

}



.seta {

position: absolute;

top: -10px;

left: 50%;

transform: translateX(-50%);

width: 0;

height: 0;

border-left: 20px solid transparent;

border-right: 20px solid transparent;

border-top: 30px solid #ff0000;

z-index: 10;

filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.5));

}


.botoes-acao {

display: flex;

justify-content: center;

align-items: center;

gap: 10px;

flex-wrap: wrap;

}



button {

margin: 5px;

padding: 12px 25px;

font-size: 16px;

border-radius: 12px;

border: none;

cursor: pointer;

transition: 0.3s;

background: #fff;

color: #333;

font-weight: bold;

}


#btnRegras {

background: #f0f0f0;

padding: 8px 15px;

font-size: 14px;

}



button:hover {

transform: scale(1.05);

box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);

}



button:disabled {

background-color: #ccc;

cursor: not-allowed;

transform: scale(1);

box-shadow: none;

}



/* O resultado agora √© o comando de movimento */

#resultado {

font-size: 1.5rem; /* Um pouco maior */

font-weight: 700;

color: white;

text-shadow: 2px 2px 8px #000;

margin-top: 15px;

min-height: 1.5em; /* Ajustado */

}



.pergunta-container {

margin-top: 20px;

padding: 15px;

background: rgba(255, 255, 255, 0.15);

border-radius: 15px;

display: none;

}



#textoPergunta {

font-size: 1.1rem;

font-weight: 600;

color: white;

text-shadow: 1px 1px 3px #000;

}



#alternativas {

display: flex;

flex-wrap: wrap;

justify-content: center;

gap: 12px;

margin-top: 12px;

}



.alternativa {

padding: 10px 18px;

background: rgba(255, 255, 255, 0.2);

color: #fff;

border-radius: 12px;

cursor: pointer;

transition: 0.3s;

font-weight: 500;

border: 2px solid transparent;

}



.alternativa:hover {

background: rgba(255, 255, 255, 0.5);

}



.alternativa.correct {

background: #4CAF50;

color: white;

border-color: #fff;

}

.alternativa.incorrect {

background: #f44336;

color: white;

border-color: #fff;

}

.alternativa.disabled {

pointer-events: none;

opacity: 0.8;

}



.info {

margin-top: 15px;

color: #fff;

font-weight: 600;

text-shadow: 1px 1px 8px #000;

}


/* --- Estilos do Modal de Regras --- */

.modal-backdrop {

position: fixed;

top: 0;

left: 0;

width: 100%;

height: 100%;

background: rgba(0, 0, 0, 0.6);

display: none;

justify-content: center;

align-items: center;

z-index: 100;

}


.modal-content {

background: white;

padding: 25px;

border-radius: 15px;

max-width: 450px;

width: 90%;

text-align: left;

color: #333;

box-shadow: 0 5px 20px rgba(0,0,0,0.3);

}


.modal-content h2 {

text-align: center;

margin-bottom: 15px;

}


.modal-content ul {

list-style-position: inside;

padding-left: 10px;

}


.modal-content li {

margin-bottom: 10px;

}


#btnFecharModal {

display: block;

margin: 20px auto 0 auto;

background: #ff0000;

color: white;

}

</style>

</head>



<body>

<div class="container">

<h1>üéØ Twister Quiz Challenge üéØ</h1>



<div class="roleta-container">

<div class="seta"></div>

<canvas id="roletaCanvas" width="300" height="300"></canvas>

</div>



<div class="botoes-acao">

<button id="botaoGirar">Girar Roleta</button>

<button id="btnRegras">Regras</button>

</div>



<div id="resultado">Gire a roleta para come√ßar!</div>



<div class="pergunta-container" id="perguntaContainer">

<p id="textoPergunta"></p>

<div id="alternativas"></div>

</div>



<div class="info">

<p id="acertos">Pontos: 0 ‚úÖ</p>

<p id="perguntasRestantes">Jogadas restantes: 32</p>

</div>



<button id="btnProxima" disabled>Pr√≥xima Jogada</button>

</div>



<!-- Modal de Regras ATUALIZADO -->

<div class="modal-backdrop" id="modalRegras">

<div class="modal-content">

<h2>Regras do Jogo</h2>

<ul>

<li>Um "juiz" opera o aplicativo.</li>

<li>O jogador da vez clica em "Girar Roleta".</li>

<li>A roleta define a categoria (cor). Uma pergunta aparece.</li>

<li><b>Se o jogador ACERTAR:</b> O app sorteia uma parte do corpo (ex: M√£o Direita) e d√° o comando (ex: "M√£o Direita no Vermelho!"). O jogador deve obedecer.</li>

<li><b>Se o jogador ERRAR:</b> Ele est√° "salvo" e n√£o se move nesta rodada.</li>

<li>O juiz clica em "Pr√≥xima Jogada" e passa a vez para o pr√≥ximo jogador.</li>

</ul>

<hr style="margin: 15px 0;">

<h3 style="text-align: center; margin-bottom: 10px;">Regras F√≠sicas</h3>

<ul>

<li><b>Regra 1:</b> Todos os jogadores devem se mover simultaneamente obedecendo √† indica√ß√£o do juiz (caso o juiz decida que o comando vale para todos).</li>

<li><b>Regra 2:</b> Somente uma m√£o ou um p√© pode ocupar um c√≠rculo de cada vez.</li>

<li><b>Regra 3:</b> Uma vez que os p√©s e as m√£os estejam colocados nos c√≠rculos, eles n√£o podem ser movidos ou levantados sem uma nova indica√ß√£o.</li>

<li>Um jogador √© eliminado se cair (cotovelo ou joelho no tapete). O √∫ltimo "em p√©" vence!</li>

</ul>

<button id="btnFecharModal">Fechar</button>

</div>

</div>



<script type="module">

// --- Refer√™ncias do DOM ---

const canvas = document.getElementById('roletaCanvas');

const ctx = canvas.getContext('2d');

const botaoGirar = document.getElementById('botaoGirar');

const btnProxima = document.getElementById('btnProxima');

const resultado = document.getElementById('resultado');

const perguntaContainer = document.getElementById('perguntaContainer');

const textoPergunta = document.getElementById('textoPergunta');

const alternativas = document.getElementById('alternativas');

const acertosEl = document.getElementById('acertos');

const perguntasRestantesEl = document.getElementById('perguntasRestantes');


// --- Refer√™ncias do Modal ---

const btnRegras = document.getElementById('btnRegras');

const modalRegras = document.getElementById('modalRegras');

const btnFecharModal = document.getElementById('btnFecharModal');



// --- Configura√ß√µes dos Sons (Tone.js) ---

const spinSound = new Tone.NoiseSynth({ noise: { type: 'white' }, envelope: { attack: 0.01, decay: 0.3, sustain: 0, release: 0.1 } }).toDestination();

const correctSound = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.1, sustain: 0.1, release: 0.2 } }).toDestination();

correctSound.volume.value = -10;

const errorSound = new Tone.Synth({ oscillator: { type: 'square' }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.2 } }).toDestination();

errorSound.volume.value = -10;



// --- Configura√ß√µes da Roleta ---

const segments = [

{ color: '#FF0000', label: 'Ci√™ncia e Natureza', corNome: 'Vermelho' },

{ color: '#008000', label: 'Geografia', corNome: 'Verde' },

{ color: '#FFFF00', label: 'Arte e Cultura', corNome: 'Amarelo' },

{ color: '#0000FF', label: 'Esportes e Entretenimento', corNome: 'Azul' }

];

const segmentAngle = 360 / segments.length;

const radius = canvas.width / 2;

let currentRotation = 0;

let isSpinning = false;

let corSorteadaGlobal = ''; // Para guardar a cor sorteada



// --- Partes do Corpo (RE-ADICIONADAS) ---

const partesDoCorpo = [

'M√£o Direita',

'M√£o Esquerda',

'P√© Direito',

'P√© Esquerdo'

];


// --- Banco de Perguntas (RE-ADICIONADO) ---

const questionBank = {

'Ci√™ncia e Natureza': [

{ q: 'Qual planeta √© conhecido como "Planeta Vermelho"?', a: ['J√∫piter', 'Marte', 'V√™nus'], correct: 1 },

{ q: 'Qual √© o s√≠mbolo qu√≠mico da √°gua?', a: ['H2O', 'CO2', 'O2'], correct: 0 },

{ q: 'Quantos planetas existem no nosso Sistema Solar?', a: ['8', '9', '10'], correct: 0 },

{ q: 'Qual √© o maior √≥rg√£o do corpo humano?', a: ['Cora√ß√£o', 'C√©rebro', 'Pele'], correct: 2 },

{ q: 'Qual √© a velocidade da luz (aproximada)?', a: ['150.000 km/s', '300.000 km/s', '500.000 km/s'], correct: 1 },

{ q: 'Quem formulou a teoria da relatividade geral?', a: ['Isaac Newton', 'Albert Einstein', 'Galileu Galilei'], correct: 1 },

{ q: 'O que as abelhas recolhem para fazer mel?', a: ['P√≥len', '√Ågua', 'N√©ctar'], correct: 2 },

{ q: 'Qual g√°s as plantas absorvem da atmosfera?', a: ['Oxig√™nio', 'Di√≥xido de Carbono', 'Nitrog√™nio'], correct: 1 }

],

'Geografia': [

{ q: 'Qual √© o maior continente do mundo?', a: ['√Åsia', '√Åfrica', 'Am√©rica'], correct: 0 },

{ q: 'Qual √© o rio mais longo do mundo?', a: ['Nilo', 'Amazonas', 'Mississipi'], correct: 1 },

{ q: 'Onde fica a Torre Eiffel?', a: ['Londres', 'Berlim', 'Paris'], correct: 2 },

{ q: 'Qual √© a capital do Brasil?', a: ['S√£o Paulo', 'Rio de Janeiro', 'Bras√≠lia'], correct: 2 },

{ q: 'Qual √© a montanha mais alta do mundo?', a: ['K2', 'Evereste', 'Mont Blanc'], correct: 1 },

{ q: 'Em que pa√≠s ficam as pir√¢mides de Giz√©?', a: ['Gr√©cia', 'Egito', 'Sud√£o'], correct: 1 },

{ q: 'Qual √© o menor pa√≠s do mundo?', a: ['M√¥naco', 'Nauru', 'Vaticano'], correct: 2 },

{ q: 'Qual √© o maior deserto quente do mundo?', a: ['Saara', 'Gobi', 'Atacama'], correct: 0 }

],

'Arte e Cultura': [

{ q: 'Quem pintou a "Mona Lisa"?', a: ['Michelangelo', 'Leonardo da Vinci', 'Donatello'], correct: 1 },

{ q: 'Quem escreveu "Dom Quixote"?', a: ['Machado de Assis', 'Shakespeare', 'Miguel de Cervantes'], correct: 2 },

{ q: 'Qual banda tinha John, Paul, George e Ringo?', a: ['Queen', 'The Beatles', 'Rolling Stones'], correct: 1 },

{ q: 'Em que pa√≠s nasceu a √ìpera?', a: ['Fran√ßa', 'It√°lia', 'Alemanha'], correct: 1 },

{ q: 'Qual arquiteto brasileiro projetou Bras√≠lia?', a: ['Aleijadinho', 'Oscar Niemeyer', 'Burle Marx'], correct: 1 },

{ q: 'Quem escreveu o conto original da "Pequena Sereia"?', a: ['Irm√£os Grimm', 'Hans Christian Andersen', 'Monteiro Lobato'], correct: 1 },

{ q: 'Qual instrumento Beethoven era famoso por tocar?', a: ['Violino', 'Piano', 'Flauta'], correct: 1 },

{ q: 'Quem esculpiu a famosa est√°tua de "David"?', a: ['Leonardo da Vinci', 'Michelangelo', 'Rafael'], correct: 1 }

],

'Esportes e Entretenimento': [

{ q: 'Em que pa√≠s o futebol moderno foi formalizado?', a: ['Brasil', 'Inglaterra', 'Espanha'], correct: 1 },

{ q: 'Quantos jogadores h√° num time de basquete em quadra?', a: ['5', '6', '7'], correct: 0 },

{ q: 'Qual pa√≠s ganhou mais Copas do Mundo de Futebol?', a: ['Alemanha', 'It√°lia', 'Brasil'], correct: 2 },

{ q: 'Qual o evento que ocorre a cada 4 anos com atletas de todo o mundo?', a: ['Copa do Mundo', 'Jogos Ol√≠mpicos', 'Super Bowl'], correct: 1 },

{ q: 'Quem √© conhecido como "O Rei do Futebol"?', a: ['Maradona', 'Messi', 'Pel√©'], correct: 2 },

{ q: 'Em que esporte se usa um "birdie" ou "peteca"?', a: ['T√™nis', 'Badminton', 'Squash'], correct: 1 },

{ q: 'Quantos rounds tem uma luta principal de boxe por t√≠tulo mundial?', a: ['10', '12', '15'], correct: 1 },

{ q: 'Qual o principal torneio de t√™nis jogado em grama?', a: ['Roland Garros', 'Wimbledon', 'US Open'], correct: 1 }

]

};


let availableQuestions = JSON.parse(JSON.stringify(questionBank));



// --- Estado do Jogo ---

let acertosCount = 0;

const perguntasTotal = 32;

let questionsAnswered = 0;

let currentQuestion = null;



// --- Fun√ß√µes do Jogo ---



function desenharRoleta() {

ctx.clearRect(0, 0, canvas.width, canvas.height);

const centerX = radius;

const centerY = radius;



segments.forEach((segment, i) => {

const startAngle = (i * segmentAngle * Math.PI) / 180;

const endAngle = ((i + 1) * segmentAngle * Math.PI) / 180;



ctx.beginPath();

ctx.moveTo(centerX, centerY);

ctx.arc(centerX, centerY, radius - 5, startAngle, endAngle);

ctx.closePath();

ctx.fillStyle = segment.color;

ctx.fill();

ctx.strokeStyle = '#fff';

ctx.lineWidth = 2;

ctx.stroke();



// <!-- IN√çCIO DA ALTERA√á√ÉO: Remove o texto da roleta -->

/*

ctx.save();

ctx.translate(centerX, centerY);

ctx.rotate(startAngle + (endAngle - startAngle) / 2);

ctx.textAlign = 'right';

ctx.fillStyle = '#000';

ctx.font = 'bold 12px Poppins'; // Fonte menor para caber o texto

ctx.fillText(segment.label, radius - 15, 5);

ctx.restore();

*/

// <!-- FIM DA ALTERA√á√ÉO -->

});

}



function girarRoleta() {

if (isSpinning) return;


Tone.start().then(() => { spinSound.triggerAttackRelease("4n"); });



isSpinning = true;

botaoGirar.disabled = true;

btnProxima.disabled = true;

perguntaContainer.style.display = 'none';

resultado.textContent = 'Girando...';



const randomSpin = Math.floor(Math.random() * 360) + 360 * 5;

currentRotation += randomSpin;



canvas.style.transition = 'transform 4s cubic-bezier(0.25, 0.1, 0.25, 1)';

canvas.style.transform = `rotate(${currentRotation}deg)`;



canvas.addEventListener('transitionend', onSpinEnd, { once: true });

}



function onSpinEnd() {

isSpinning = false;


const finalAngle = currentRotation % 360;


// <!-- ALTERA√á√ÉO: Corrigido o c√°lculo do √¢ngulo. -->

// A seta est√° no topo (270 graus), n√£o na direita (0 ou 360).

// A l√≥gica anterior era: const winningAngle = (360 - finalAngle) % 360;

const winningAngle = (270 - finalAngle + 360) % 360;


const winningSegmentIndex = Math.floor(winningAngle / segmentAngle);

const winningSegment = segments[winningSegmentIndex];



corSorteadaGlobal = winningSegment.corNome; // Salva o nome da cor (ex: "Vermelho")


// <!-- ALTERA√á√ÉO: Mostrar a cor sorteada, n√£o a categoria -->

resultado.textContent = `Cor: ${winningSegment.corNome}!`;


mostrarPergunta(winningSegment.label); // Mostra a pergunta da categoria

}



function mostrarPergunta(categoryLabel) {

if (questionsAnswered >= perguntasTotal) {

fimDeJogo();

return;

}



if (availableQuestions[categoryLabel].length === 0) {

resultado.textContent = `Sem mais perguntas de ${categoryLabel}. Gire de novo!`;

botaoGirar.disabled = false;

return;

}



currentQuestion = availableQuestions[categoryLabel].shift();


textoPergunta.textContent = currentQuestion.q;

alternativas.innerHTML = '';



currentQuestion.a.forEach((alt, index) => {

const altDiv = document.createElement('div');

altDiv.classList.add('alternativa');

altDiv.textContent = alt;

altDiv.dataset.index = index;

altDiv.addEventListener('click', verificarResposta);

alternativas.appendChild(altDiv);

});



perguntaContainer.style.display = 'block';

}



/**

* L√≥gica MISTA: Verifica a resposta E GERA O COMANDO DO TWISTER

*/

function verificarResposta(e) {

const selectedIndex = parseInt(e.target.dataset.index);

const correctIndex = currentQuestion.correct;

const allButtons = alternativas.querySelectorAll('.alternativa');



allButtons.forEach(btn => { btn.classList.add('disabled'); });



if (selectedIndex === correctIndex) {

// --- ACERTOU ---

e.target.classList.add('correct');

correctSound.triggerAttackRelease("C5", "8n", Tone.now());

acertosCount++;


// Sorteia a parte do corpo

const parteSorteada = partesDoCorpo[Math.floor(Math.random() * partesDoCorpo.length)];


// Mostra o comando do Twister

resultado.textContent = `ACERTOU! ${parteSorteada} no ${corSorteadaGlobal}!`;


} else {

// --- ERROU ---

e.target.classList.add('incorrect');

allButtons[correctIndex].classList.add('correct');

errorSound.triggerAttackRelease("C3", "8n", Tone.now());


// Mostra o resultado "salvo"

resultado.textContent = `ERROU! O jogador est√° salvo nesta rodada.`;

}


questionsAnswered++;

updateInfo();



if (questionsAnswered < perguntasTotal) {

btnProxima.disabled = false;

} else {

fimDeJogo();

}

}



function updateInfo() {

acertosEl.textContent = `Pontos: ${acertosCount} ‚úÖ`;

perguntasRestantesEl.textContent = `Jogadas restantes: ${perguntasTotal - questionsAnswered}`;

}



function proximaRodada() {

perguntaContainer.style.display = 'none';

btnProxima.disabled = true;

botaoGirar.disabled = false;

resultado.textContent = 'Gire a roleta para a pr√≥xima jogada!';

}


function fimDeJogo() {

resultado.textContent = `Fim de Jogo! Pontua√ß√£o final: ${acertosCount} de ${perguntasTotal}!`;

perguntaContainer.style.display = 'none';

btnProxima.disabled = true;

botaoGirar.disabled = true;

botaoGirar.textContent = "Recarregue para jogar";

}



// --- Fun√ß√µes do Modal ---

function abrirModal() { modalRegras.style.display = 'flex'; }

function fecharModal() { modalRegras.style.display = 'none'; }



// --- Inicializa√ß√£o ---

botaoGirar.addEventListener('click', girarRoleta);

btnProxima.addEventListener('click', proximaRodada);

btnRegras.addEventListener('click', abrirModal);

btnFecharModal.addEventListener('click', fecharModal);


modalRegras.addEventListener('click', (e) => {

if (e.target === modalRegras) { fecharModal(); }

});


desenharRoleta();

updateInfo();


perguntasRestantesEl.textContent = `Jogadas restantes: ${perguntasTotal}`;



</script>

</body>

</html>
